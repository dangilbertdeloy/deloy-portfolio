<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Register - Dreamscape</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="page-enter">

  <div class="loader" style="display:flex"><div class="loader-inner"><div class="loader-ring"></div><p>Creating your dream‚Ä¶</p></div></div>

  <div class="overlay"></div>
  <canvas id="dreamCanvas"></canvas>
  <div id="parallaxOrbs"></div>
  <div id="floatingShapes"></div>

  <div class="auth-container content-layer">
    <h2>Create Account</h2>
    <form id="registerForm">
      <input id="newUsername" placeholder="Username" required />
      <input id="newPassword" type="password" placeholder="Password" required />
      <button class="glow-btn" type="submit">Register</button>
    </form>

    <div class="auth-links"><a href="login.html">Already have an account?</a></div>
    <button class="back-link" id="backBtnRegister">‚Üê Back</button>

    <div class="audio-control">
      <button id="audioToggleRegister" class="audio-btn">üîà Ambient Off</button>
      <audio id="ambientAudioRegister" loop src="audio/ambient.mp3"></audio>
    </div>
  </div>

  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/particles.js"></script>
</body>
</html>
        <img src="img/profile.png" class="profile-pic" alt="Your photo (replace img/profile.png)" />
        <div class="personal-info">
          <p><strong>Name:</strong> Dan Gilbert P. Deloy</p>
          <p><strong>Username:</strong> pocketful.of.sunshine</p>
          <p><strong>Email:</strong> dangilbertpdeloy@gmail.com</p>
          <p><strong>Bio:</strong> I am the creator of this website!</p>
        </div>
      </div>
    </section>

    <section id="projects" class="projects">
      <h2>Projects</h2>
      <div class="project-grid">
        <div class="project-card">
          <div class="project-head">
            <h3>Project A ‚Äî Dream Visuals</h3>
            <button class="expand-btn" onclick="toggleCard(this)">+</button>
          </div>
          <div class="project-body">
            <p>Short description of Project A. Click expand for details.</p>
            <div class="project-details">
              <p>- Built with HTML/CSS/JS</p>
              <p>- Dreamcore particle engine, parallax orbs, animated UI</p>
            </div>
          </div>
        </div>
        <div class="project-card">
          <div class="project-head">
            <h3>Project B ‚Äî Interactive Portfolio</h3>
            <button class="expand-btn" onclick="toggleCard(this)">+</button>
          </div>
          <div class="project-body">
            <p>Short description of Project B.</p>
            <div class="project-details">
              <p>- Responsive layout</p>
              <p>- Smooth transitions and ambient toggle</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <audio id="ambientAudioPortfolio" loop src="audio/ambient.mp3"></audio>

  <script type="module">
    // Load username from session
    const userNameDisplay = document.getElementById("userNameDisplay");
    const currentUser = sessionStorage.getItem("currentUser");
    if(currentUser) userNameDisplay.textContent = currentUser;

    function scrollToSection(id){
      document.getElementById(id).scrollIntoView({behavior:"smooth"});
    }

    function toggleCard(btn){
      const card = btn.closest('.project-card');
      card.classList.toggle('expanded');
    }

    const ambientAudio = document.getElementById('ambientAudioPortfolio');
    const toggleBtn = document.getElementById('audioTogglePortfolio');
    toggleBtn.addEventListener('click', ()=>{
      if(ambientAudio.paused){ ambientAudio.play(); toggleBtn.textContent='üîà Ambient On'; }
      else{ ambientAudio.pause(); toggleBtn.textContent='üîà Ambient Off'; }
    });

    function logout(){ sessionStorage.removeItem('currentUser'); window.location.href='index.html'; }
    function goHome(){ window.location.href='index.html'; }
  </script>
  <script type="module" src="js/particles.js"></script>
</body>
</html>
    <header>
      <h1 class="portfolio-title" id="welcomeUser">Welcome, traveler ‚ú¶</h1>
      <p class="sub">Glad you're here in your dreamspace.</p>
    </header>

    <section id="about" class="about-me">
      <h2>About Me</h2>
      <div class="profile">
        <img src="img/profile.png" class="profile-pic" alt="Your photo (replace img/profile.png)" />
        <div class="personal-info">
          <p><strong>Name:</strong> Dan Gilbert P. Deloy</p>
          <p><strong>Username:</strong> <span id="displayUsername">pocketful.of.sunshine</span></p>
          <p><strong>Email:</strong> dangilbertpdeloy@gmail.com</p>
          <p><strong>Bio:</strong> I am the creator of this website!</p>
        </div>
      </div>
    </section>

    <section id="projects" class="projects">
      <h2>Projects</h2>

      <div class="project-grid">
        <div class="project-card">
          <div class="project-head">
            <h3>Project A ‚Äî Dream Visuals</h3>
            <button class="expand-btn" onclick="toggleCard(this)">+</button>
          </div>
          <div class="project-body">
            <p>Short description of Project A. Click expand for details.</p>
            <div class="project-details">
              <p>- Built with HTML/CSS/JS</p>
              <p>- Dreamcore particle engine, parallax orbs, animated UI</p>
            </div>
          </div>
        </div>

        <div class="project-card">
          <div class="project-head">
            <h3>Project B ‚Äî Interactive Portfolio</h3>
            <button class="expand-btn" onclick="toggleCard(this)">+</button>
          </div>
          <div class="project-body">
            <p>Short description of Project B.</p>
            <div class="project-details">
              <p>- Responsive layout</p>
              <p>- Smooth transitions and ambient toggle</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <audio id="ambientAudioPortfolio" loop src="audio/ambient.mp3"></audio>

  <script type="module">
    // Firebase imports
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyCl5hlO_FK2Pl4un8S4rKbQNj9sYy5WLi0",
      authDomain: "dreamscape-portfolio.firebaseapp.com",
      projectId: "dreamscape-portfolio",
      storageBucket: "dreamscape-portfolio.firebasestorage.app",
      messagingSenderId: "1008209469846",
      appId: "1:1008209469846:web:080c4b22e8eb1cd9923db7",
      measurementId: "G-4CS4205RSF"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Check login state
    onAuthStateChanged(auth, (user) => {
      if (user) {
        // Use username from sessionStorage if available, else Firebase displayName
        const username = sessionStorage.getItem("currentUser") || user.displayName || "traveler";
        document.getElementById("welcomeUser").textContent = `Welcome, ${username} ‚ú¶`;
        document.getElementById("displayUsername").textContent = username;
      } else {
        // Not logged in ‚Üí redirect to index
        window.location.href = "index.html";
      }
    });

    // Logout function
    function logout() {
      signOut(auth).then(() => {
        sessionStorage.removeItem("currentUser");
        window.location.href = "index.html";
      });
    }

    window.logout = logout; // make it accessible in onclick

    // Ambient music toggle
    const ambientAudio = document.getElementById('ambientAudioPortfolio');
    const toggleBtn = document.getElementById('audioTogglePortfolio');

    toggleBtn.addEventListener('click', () => {
      if (ambientAudio.paused) {
        ambientAudio.play();
        toggleBtn.textContent = 'üîà Ambient On';
      } else {
        ambientAudio.pause();
        toggleBtn.textContent = 'üîà Ambient Off';
      }
    });

    // Smooth scroll to section
    window.scrollToSection = (id) => {
      const el = document.getElementById(id);
      if (el) el.scrollIntoView({ behavior: 'smooth' });
    };

    // Project expand toggle
    window.toggleCard = (btn) => {
      const card = btn.closest('.project-card');
      card.classList.toggle('expanded');
    };

    // Optional goHome
    window.goHome = () => { window.location.href = "index.html"; }
  </script>
</body>
</html>


